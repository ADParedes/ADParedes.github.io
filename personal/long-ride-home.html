<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newport Beach to Chula Vista Bike Ride Guide</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --color-bg: #f8fafc;
            --color-card: #ffffff;
            --color-text: #1e293b;
            --color-muted: #64748b;
            --color-accent: #0d9488;
            --color-accent-light: #ccfbf1;
            --color-warning: #f59e0b;
            --color-warning-light: #fef3c7;
            --color-team-a: #0ea5e9;
            --color-team-a-light: #e0f2fe;
            --color-team-b: #8b5cf6;
            --color-team-b-light: #ede9fe;
            --color-meal: #22c55e;
            --color-meal-light: #dcfce7;
            --font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font);
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            padding-top: 60px;
        }

        /* Sticky Navigation */
        .sticky-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #e2e8f0;
            z-index: 100;
            padding: 0.75rem 1rem;
        }

        .sticky-nav-inner {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sticky-nav-title {
            font-weight: 700;
            color: var(--color-accent);
            font-size: 0.95rem;
        }

        .sticky-nav-links {
            display: flex;
            gap: 1.5rem;
        }

        .sticky-nav-links a {
            color: var(--color-muted);
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .sticky-nav-links a:hover {
            color: var(--color-accent);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid var(--color-accent);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--color-accent);
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--color-muted);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat {
            background: var(--color-card);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-accent);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--color-muted);
        }

        section {
            margin-bottom: 2.5rem;
        }

        h2 {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--color-accent-light);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        h2 .icon { font-size: 1.5rem; }

        .card {
            background: var(--color-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        /* Timeline Stops */
        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--color-accent), var(--color-team-a));
            border-radius: 2px;
        }

        .stop {
            position: relative;
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
        }

        .stop::before {
            content: '';
            position: absolute;
            left: -1.5rem;
            top: 0.5rem;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--color-accent);
            border: 3px solid var(--color-bg);
        }

        .stop.meal::before { background: var(--color-meal); }
        .stop.warning::before { background: var(--color-warning); }
        .stop.finish::before { background: var(--color-team-a); width: 20px; height: 20px; left: -1.6rem; }

        .stop-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .stop-name {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .stop-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.85rem;
        }

        .stop-mile {
            background: var(--color-accent-light);
            color: var(--color-accent);
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            font-weight: 600;
        }

        .stop-time {
            color: var(--color-muted);
        }

        .stop-desc {
            color: var(--color-muted);
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        .badge {
            display: inline-block;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            margin-right: 0.5rem;
        }

        .badge-meal {
            background: var(--color-meal-light);
            color: #15803d;
        }

        .badge-water {
            background: var(--color-team-a-light);
            color: var(--color-team-a);
        }

        .badge-warning {
            background: var(--color-warning-light);
            color: #b45309;
        }

        .badge-team-b {
            background: var(--color-team-b-light);
            color: var(--color-team-b);
        }

        /* Team Cards */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .team-card {
            border-left: 4px solid;
            padding-left: 1rem;
        }

        .team-card.team-a { border-color: var(--color-team-a); }
        .team-card.team-b { border-color: var(--color-team-b); }

        .team-card h3 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .team-card ul {
            margin-left: 1.25rem;
            font-size: 0.9rem;
            color: var(--color-muted);
        }

        .team-card li { margin-bottom: 0.25rem; }

        /* Alert Box */
        .alert {
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid;
        }

        .alert-warning {
            background: var(--color-warning-light);
            border-color: var(--color-warning);
        }

        .alert h4 {
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        .alert p, .alert ul {
            font-size: 0.9rem;
            color: var(--color-text);
        }

        .alert ul { margin-left: 1.25rem; margin-top: 0.5rem; }

        /* Checklist */
        .checklist {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            padding: 0.5rem;
            background: var(--color-bg);
            border-radius: 6px;
        }

        .checklist-item::before {
            content: '☐';
            font-size: 1.1rem;
        }

        /* Team B Stops */
        .team-b-stop {
            background: var(--color-team-b-light);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.75rem;
        }

        .team-b-stop h4 {
            font-size: 0.95rem;
            color: var(--color-team-b);
            margin-bottom: 0.25rem;
        }

        .team-b-stop p {
            font-size: 0.85rem;
            color: var(--color-muted);
        }

        /* Footer */
        footer {
            text-align: center;
            padding-top: 2rem;
            color: var(--color-muted);
            font-size: 0.85rem;
        }

        .edition-nav {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .edition-current {
            background: var(--color-accent);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .edition-future {
            background: var(--color-bg);
            color: var(--color-muted);
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            border: 1px dashed var(--color-muted);
            text-decoration: none;
            transition: all 0.2s;
        }

        .edition-future:hover {
            border-color: var(--color-accent);
            color: var(--color-accent);
        }

        @media print {
            body { padding: 0; }
            .card { box-shadow: none; border: 1px solid #e2e8f0; }
        }

        @media (max-width: 600px) {
            .stop-header { flex-direction: column; }
            .stats { grid-template-columns: repeat(2, 1fr); }
        }

        /* Year Badge */
        .year-badge {
            display: inline-block;
            background: linear-gradient(135deg, #f59e0b 0%, #ea580c 100%);
            color: white;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            margin-bottom: 1rem;
        }

        /* Slogan */
        .slogan {
            font-style: italic;
            color: var(--color-accent);
            font-size: 1rem;
            margin-top: 0.5rem;
        }

        /* Intro Story */
        .intro-story {
            margin-bottom: 2rem;
        }

        .intro-story .card p {
            margin-bottom: 0.75rem;
            font-size: 1rem;
            line-height: 1.7;
        }

        .intro-story .card p:last-child {
            margin-bottom: 0;
        }

        /* How It Works Steps */
        .steps {
            counter-reset: step;
        }

        .step-item {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            align-items: flex-start;
        }

        .step-number {
            counter-increment: step;
            width: 36px;
            height: 36px;
            background: var(--color-accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .step-number::before {
            content: counter(step);
        }

        .step-content h4 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .step-content p {
            font-size: 0.9rem;
            color: var(--color-muted);
            margin: 0;
        }

        /* Message from Andre */
        .message-section {
            text-align: center;
            padding: 2rem 0;
        }

        .message-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 1.5rem;
            border: 4px solid var(--color-accent);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .message-quote {
            background: linear-gradient(135deg, var(--color-accent-light) 0%, #e0f2fe 100%);
            border-radius: 16px;
            padding: 2rem;
            position: relative;
            max-width: 700px;
            margin: 0 auto;
        }

        .message-quote::before {
            content: '"';
            position: absolute;
            top: -10px;
            left: 20px;
            font-size: 4rem;
            color: var(--color-accent);
            opacity: 0.3;
            font-family: Georgia, serif;
            line-height: 1;
        }

        .message-quote p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--color-text);
            font-style: italic;
            margin-bottom: 1rem;
        }

        .message-quote .signature {
            font-style: normal;
            font-weight: 600;
            color: var(--color-accent);
            font-size: 0.95rem;
        }

        /* Gear Grid */
        .gear-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 0.75rem;
        }

        .gear-item {
            background: var(--color-bg);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .gear-item .gear-icon {
            font-size: 1.1rem;
        }

        /* Map Styles */
        #route-map {
            height: 500px;
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }

        .map-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            font-size: 0.85rem;
            color: var(--color-muted);
            margin-top: 0.75rem;
        }

        .map-legend-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-dot.start { background: #22c55e; }
        .legend-dot.meal { background: #f59e0b; }
        .legend-dot.water { background: #0ea5e9; }
        .legend-dot.warning { background: #ef4444; }
        .legend-dot.finish { background: #8b5cf6; }

        .leaflet-popup-content-wrapper {
            border-radius: 8px;
        }

        .popup-content {
            font-family: var(--font);
        }

        .popup-content h4 {
            margin: 0 0 0.25rem 0;
            font-size: 0.95rem;
            color: var(--color-text);
        }

        .popup-content p {
            margin: 0;
            font-size: 0.8rem;
            color: var(--color-muted);
        }

        .popup-mile {
            display: inline-block;
            background: var(--color-accent-light);
            color: var(--color-accent);
            padding: 0.1rem 0.4rem;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 0.25rem;
        }

        /* Hero Quote */
        .hero-quote {
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .hero-photo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--color-accent);
        }

        .hero-quote p {
            font-size: 1.1rem;
            font-style: italic;
            color: var(--color-text);
            margin: 0;
        }

        .hero-signature {
            font-size: 0.9rem;
            color: var(--color-muted);
            font-weight: 500;
        }

        /* Section Intro */
        .section-intro {
            color: var(--color-muted);
            margin-bottom: 1.5rem;
        }

        .subsection-title {
            font-size: 1rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--color-text);
        }

        /* Plan Steps */
        .plan-steps {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .plan-step {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--color-card);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .plan-number {
            width: 28px;
            height: 28px;
            background: var(--color-accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        /* Gear List */
        .gear-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .gear-category {
            background: var(--color-card);
            padding: 1.25rem;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .gear-category h4 {
            font-size: 0.9rem;
            color: var(--color-accent);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .gear-category ul {
            list-style: none;
            font-size: 0.9rem;
        }

        .gear-category li {
            padding: 0.35rem 0;
            color: var(--color-text);
        }

        /* Support Grid */
        .support-grid {
            display: grid;
            gap: 0.5rem;
        }

        .support-stop {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--color-card);
            border-radius: 8px;
            border-left: 3px solid transparent;
        }

        .support-stop.highlight {
            border-left-color: var(--color-accent);
            background: var(--color-accent-light);
        }

        .support-stop.finish {
            border-left-color: var(--color-team-b);
            background: var(--color-team-b-light);
        }

        .support-time {
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--color-accent);
            min-width: 60px;
        }

        .support-info {
            display: flex;
            flex-direction: column;
            gap: 0.15rem;
        }

        .support-info strong {
            font-size: 0.95rem;
        }

        .support-info span {
            font-size: 0.85rem;
            color: var(--color-muted);
        }

        /* Inaugural Badge */
        .inaugural-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--color-accent) 0%, #0f766e 100%);
            color: white;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            padding: 0.5rem 1.25rem;
            border-radius: 20px;
            margin-bottom: 1rem;
        }

        /* FAQ - Collapsible */
        .faq-item {
            background: var(--color-card);
            border-radius: 8px;
            margin-bottom: 0.75rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .faq-item summary {
            padding: 1.25rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            color: var(--color-text);
            cursor: pointer;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-item summary::-webkit-details-marker {
            display: none;
        }

        .faq-item summary::after {
            content: '+';
            font-size: 1.25rem;
            font-weight: 400;
            color: var(--color-muted);
            transition: transform 0.2s;
        }

        .faq-item[open] summary::after {
            content: '−';
        }

        .faq-item summary:hover {
            color: var(--color-accent);
        }

        .faq-content {
            padding: 0 1.5rem 1.25rem;
        }

        .faq-content p {
            color: var(--color-muted);
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        .faq-content ul {
            margin-left: 1.25rem;
            color: var(--color-muted);
            font-size: 0.95rem;
        }

        .faq-content li {
            margin-bottom: 0.25rem;
        }

        .faq-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .faq-option {
            padding: 1rem;
            background: var(--color-bg);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .faq-option.preferred {
            background: var(--color-accent-light);
        }

        .faq-option strong {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--color-text);
        }

        .faq-option ul {
            margin-left: 1rem;
            margin-top: 0.5rem;
        }

        /* Footer update */
        footer {
            text-align: center;
            padding: 3rem 0 2rem;
            color: var(--color-muted);
            font-size: 0.85rem;
            border-top: 1px solid #e2e8f0;
            margin-top: 3rem;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .sticky-nav-links { gap: 1rem; }
            .sticky-nav-links a { font-size: 0.75rem; }
            .gear-list { grid-template-columns: 1fr 1fr; }
            .faq-options { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <nav class="sticky-nav">
        <div class="sticky-nav-inner">
            <span class="sticky-nav-title">The Long Ride Home</span>
            <div class="sticky-nav-links">
                <a href="#overview">Overview</a>
                <a href="#route">Route</a>
                <a href="#gear">Gear</a>
                <a href="#support">Support</a>
                <a href="#faq">FAQ</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Hero Section -->
        <header>
            <div class="edition-nav">
                <span class="edition-current">2025</span>
                <a href="2026.html" class="edition-future">2026</a>
            </div>
            <div class="inaugural-badge">Inaugural Year</div>
            <h1>The Long Ride Home</h1>
            <p class="subtitle">Newport Beach → Chula Vista</p>
            <p class="slogan">"Started as a bad idea. Somehow got worse."</p>

            <div class="hero-quote">
                <img src="../assets/profile.png" alt="Andre" class="hero-photo" onerror="this.style.display='none'">
                <p>"There is no quitting unless a car hits you. And even then, walk it off and get back on the bike."</p>
                <span class="hero-signature">— Andre</span>
            </div>
        </header>

        <!-- Overview Section -->
        <section id="overview">
            <h2>Overview</h2>

            <div class="stats">
                <div class="stat">
                    <div class="stat-value">105</div>
                    <div class="stat-label">Miles</div>
                </div>
                <div class="stat">
                    <div class="stat-value">7:30a</div>
                    <div class="stat-label">Start</div>
                </div>
                <div class="stat">
                    <div class="stat-value">8:00p</div>
                    <div class="stat-label">Finish</div>
                </div>
                <div class="stat">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Stops</div>
                </div>
            </div>

            <div class="card">
                <p><strong>In 2008</strong>, a college kid looked at a map and thought: "I bet I could bike home from school." It took him three tries, but he made it. The idea stuck.</p>
                <p>I am making it official. 105 miles of coastal California, questionable life choices, and the kind of bonding that only happens when you're collectively questioning every decision that led to this moment while your butt goes numb and you realize you still have 60 miles left. It's like a really long episode of Jackass, but with better scenery and more crying.</p>
            </div>

            <div class="plan-steps">
                <div class="plan-step">
                    <span class="plan-number">1</span>
                    <div>
                        <strong>5:45 AM</strong> — Leave Bonita, drive to Newport Beach
                    </div>
                </div>
                <div class="plan-step">
                    <span class="plan-number">2</span>
                    <div>
                        <strong>7:30 AM</strong> — Start biking from Back Bay Road
                    </div>
                </div>
                <div class="plan-step">
                    <span class="plan-number">3</span>
                    <div>
                        <strong>All Day</strong> — Support vehicle meets bikers at stops
                    </div>
                </div>
                <div class="plan-step">
                    <span class="plan-number">4</span>
                    <div>
                        <strong>~8:00 PM</strong> — Finish at 3rd Ave & E St, Chula Vista
                    </div>
                </div>
            </div>
        </section>

        <!-- Route Section -->
        <section id="route">
            <h2>Route</h2>
            <div id="route-map"></div>
            <div class="map-legend">
                <div class="map-legend-item"><span class="legend-dot start"></span> Start</div>
                <div class="map-legend-item"><span class="legend-dot water"></span> Water</div>
                <div class="map-legend-item"><span class="legend-dot meal"></span> Meal</div>
                <div class="map-legend-item"><span class="legend-dot warning"></span> Caution</div>
                <div class="map-legend-item"><span class="legend-dot finish"></span> Finish</div>
            </div>

            <h3 class="subsection-title">All Stops</h3>

            <div class="timeline">
                <div class="stop">
                    <div class="stop-header">
                        <span class="stop-name">START: Back Bay Road, Newport Beach</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 0</span>
                            <span class="stop-time">7:30 AM</span>
                        </div>
                    </div>
                    <p class="stop-desc">Meet at Back Bay Road near PCH. Final bike check, fill water bottles. Skip breakfast - we'll eat on the road.</p>
                </div>

                <div class="stop">
                    <div class="stop-header">
                        <span class="stop-name">Crystal Cove State Park</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 8</span>
                            <span class="stop-time">~8:15 AM</span>
                        </div>
                    </div>
                    <p class="stop-desc">Quick water break. Beautiful coastal views. Team B can park at Crystal Cove lot.</p>
                    <span class="badge badge-water">Water</span>
                    <span class="badge badge-team-b">Team B Wait</span>
                </div>

                <div class="stop">
                    <div class="stop-header">
                        <span class="stop-name">Laguna Beach - Main Beach</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 15</span>
                            <span class="stop-time">~9:00 AM</span>
                        </div>
                    </div>
                    <p class="stop-desc">First major stop. Restrooms available. Quick stretch. Grab a coffee if needed.</p>
                    <span class="badge badge-water">Water</span>
                </div>

                <div class="stop meal">
                    <div class="stop-header">
                        <span class="stop-name">Dana Point Harbor</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 28</span>
                            <span class="stop-time">~10:30 AM</span>
                        </div>
                    </div>
                    <p class="stop-desc"><strong>BRUNCH STOP.</strong> Harbor has multiple restaurants. Coffee Importers, Turk's, or Harbor House Cafe. Sit-down meal - 45 min break.</p>
                    <span class="badge badge-meal">Brunch</span>
                    <span class="badge badge-team-b">Team B Wait</span>
                </div>

                <div class="stop">
                    <div class="stop-header">
                        <span class="stop-name">San Clemente Pier</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 38</span>
                            <span class="stop-time">~12:15 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc">Last stop before Camp Pendleton. Fill up all water. Use restrooms. Mentally prepare for I-5 section.</p>
                    <span class="badge badge-water">Water</span>
                    <span class="badge badge-warning">Pre-Pendleton</span>
                </div>

                <div class="stop warning">
                    <div class="stop-header">
                        <span class="stop-name">Camp Pendleton</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 38-56</span>
                            <span class="stop-time">~12:30 PM - 2:00 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc"><strong>~18 MILES THROUGH BASE OR I-5.</strong> See special instructions below. Stay focused, single file. No stopping on I-5 shoulder.</p>
                    <span class="badge badge-warning">Caution Zone</span>
                </div>

                <div class="stop meal">
                    <div class="stop-header">
                        <span class="stop-name">Oceanside Harbor</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 60</span>
                            <span class="stop-time">~2:30 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc"><strong>AFTERNOON SNACK.</strong> Made it through Pendleton! Celebrate with fish tacos at Rockin' Baja or Harbor Fish & Chips. 30 min break.</p>
                    <span class="badge badge-meal">Snack</span>
                    <span class="badge badge-team-b">Team B Wait</span>
                </div>

                <div class="stop">
                    <div class="stop-header">
                        <span class="stop-name">Carlsbad Village</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 68</span>
                            <span class="stop-time">~3:30 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc">Quick water break. Cute village if you need anything. State Street has cafes.</p>
                    <span class="badge badge-water">Water</span>
                </div>

                <div class="stop">
                    <div class="stop-header">
                        <span class="stop-name">Encinitas / Moonlight Beach</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 78</span>
                            <span class="stop-time">~4:30 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc">Water and stretch. Swami's area is beautiful. Keep pushing - almost there!</p>
                    <span class="badge badge-water">Water</span>
                    <span class="badge badge-team-b">Team B Wait</span>
                </div>

                <div class="stop meal">
                    <div class="stop-header">
                        <span class="stop-name">La Jolla Shores</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 90</span>
                            <span class="stop-time">~6:00 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc"><strong>EARLY DINNER.</strong> Last real meal stop. Piatti, The Shores Restaurant, or grab something quick. 45 min break. 15 miles to go!</p>
                    <span class="badge badge-meal">Early Dinner</span>
                    <span class="badge badge-team-b">Team B Wait</span>
                </div>

                <div class="stop">
                    <div class="stop-header">
                        <span class="stop-name">Mission Bay / Pacific Beach</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 95</span>
                            <span class="stop-time">~7:00 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc">Quick water. Take the bayfront path. Almost home stretch!</p>
                    <span class="badge badge-water">Water</span>
                </div>

                <div class="stop finish">
                    <div class="stop-header">
                        <span class="stop-name">FINISH: 3rd Ave & E Street, Chula Vista</span>
                        <div class="stop-meta">
                            <span class="stop-mile">Mile 105</span>
                            <span class="stop-time">~8:00 PM</span>
                        </div>
                    </div>
                    <p class="stop-desc">Century complete. Celebrate!</p>
                </div>
            </div>
        </section>

        <!-- Gear Section -->
        <section id="gear">
            <h2>Gear</h2>
            <p class="section-intro">Each rider carries these essentials. Everything else goes in the support vehicle.</p>

            <div class="gear-list">
                <div class="gear-category">
                    <h4>Flat Kit</h4>
                    <ul>
                        <li>2-3 CO2 cartridges</li>
                        <li>CO2 inflator</li>
                        <li>2 spare tubes</li>
                        <li>Tire levers</li>
                    </ul>
                </div>
                <div class="gear-category">
                    <h4>On the Bike</h4>
                    <ul>
                        <li>Water bottle + cage</li>
                        <li>Phone mount (optional)</li>
                        <li>Bike computer (optional)</li>
                    </ul>
                </div>
                <div class="gear-category">
                    <h4>Wear</h4>
                    <ul>
                        <li>Helmet (required)</li>
                        <li>Padded shorts</li>
                        <li>Sunglasses</li>
                        <li>Sunscreen</li>
                    </ul>
                </div>
                <div class="gear-category">
                    <h4>Pro Tips</h4>
                    <ul>
                        <li>Chamois cream - trust us</li>
                        <li>Electrolyte tablets</li>
                        <li>Cash for emergencies</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Support Section -->
        <section id="support">
            <h2>Support Crew</h2>
            <p class="section-intro">The support vehicle follows I-5, meeting riders at key stops with water, snacks, and encouragement.</p>

            <div class="support-grid">
                <div class="support-stop">
                    <div class="support-time">8:15a</div>
                    <div class="support-info">
                        <strong>Crystal Cove</strong>
                        <span>Park lot ($15) · 20 min wait</span>
                    </div>
                </div>
                <div class="support-stop highlight">
                    <div class="support-time">10:30a</div>
                    <div class="support-info">
                        <strong>Dana Point Harbor</strong>
                        <span>Free parking · Brunch together</span>
                    </div>
                </div>
                <div class="support-stop highlight">
                    <div class="support-time">2:30p</div>
                    <div class="support-info">
                        <strong>Oceanside Harbor</strong>
                        <span>Metered lots · Post-Pendleton snack</span>
                    </div>
                </div>
                <div class="support-stop">
                    <div class="support-time">4:30p</div>
                    <div class="support-info">
                        <strong>Moonlight Beach</strong>
                        <span>Street parking · 15 min wait</span>
                    </div>
                </div>
                <div class="support-stop highlight">
                    <div class="support-time">6:00p</div>
                    <div class="support-info">
                        <strong>La Jolla Shores</strong>
                        <span>Kellogg Park · Dinner together</span>
                    </div>
                </div>
                <div class="support-stop finish">
                    <div class="support-time">8:00p</div>
                    <div class="support-info">
                        <strong>Finish Line</strong>
                        <span>Arrive by 7:45p to greet finishers</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section id="faq">
            <h2>FAQ</h2>

            <details class="faq-item" open>
                <summary>How do we get through Camp Pendleton?</summary>
                <div class="faq-content">
                    <p>Two options:</p>
                    <div class="faq-options">
                        <div class="faq-option preferred">
                            <strong>Through Base (preferred)</strong>
                            <ul>
                                <li>Get a free cycling pass from Main Gate Visitor Center</li>
                                <li>Bring Real ID (driver's license or passport)</li>
                                <li>Scenic 11-mile bike-only road through San Onofre</li>
                                <li>Check for military closures before ride day</li>
                            </ul>
                        </div>
                        <div class="faq-option">
                            <strong>I-5 Shoulder (backup)</strong>
                            <ul>
                                <li>Legal only when base is closed to cyclists</li>
                                <li>8 miles on freeway shoulder</li>
                                <li>Single file, high visibility, no stopping</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </details>

            <details class="faq-item">
                <summary>What about bikes?</summary>
                <div class="faq-content">
                    <p><strong>Stay Classy Bikes</strong> — (619) 297-5500<br>
                    They deliver to Newport Beach and pick up in Chula Vista. Expect ~$100-150 per bike including delivery both ways.</p>
                </div>
            </details>

            <details class="faq-item">
                <summary>What pace should we expect?</summary>
                <div class="faq-content">
                    <p>~15 mph average including stops. We start early to beat the heat and finish before dark. Southbound usually means tailwind.</p>
                </div>
            </details>

            <details class="faq-item">
                <summary>What if someone can't finish?</summary>
                <div class="faq-content">
                    <p>Support vehicle can pick up anyone who bonks. No shame — it's 105 miles. Make sure support crew has everyone's phone numbers.</p>
                </div>
            </details>

            <details class="faq-item">
                <summary>What should I check before ride day?</summary>
                <div class="faq-content">
                    <ul>
                        <li>Weather forecast (wind direction matters)</li>
                        <li>Camp Pendleton base access status</li>
                        <li>Bike rental confirmation</li>
                        <li>Everyone has each other's phone numbers</li>
                    </ul>
                </div>
            </details>
        </section>

        <footer>
            <p>The Long Ride Home · Est. 2025</p>
        </footer>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Initialize map centered on the route
        const map = L.map('route-map').setView([33.15, -117.45], 9);

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Define stops with coordinates, mile markers, and types
        const stops = [
            { name: "START: Back Bay Road, Newport Beach", lat: 33.6189, lng: -117.9298, mile: 0, time: "7:30 AM", type: "start" },
            { name: "Crystal Cove State Park", lat: 33.5667, lng: -117.8400, mile: 8, time: "8:15 AM", type: "water" },
            { name: "Laguna Beach - Main Beach", lat: 33.5427, lng: -117.7854, mile: 15, time: "9:00 AM", type: "water" },
            { name: "Dana Point Harbor", lat: 33.4606, lng: -117.6972, mile: 28, time: "10:30 AM", type: "meal", desc: "Brunch" },
            { name: "San Clemente Pier", lat: 33.4178, lng: -117.6219, mile: 38, time: "12:15 PM", type: "water" },
            { name: "Camp Pendleton (Start)", lat: 33.3800, lng: -117.5800, mile: 40, time: "12:30 PM", type: "warning" },
            { name: "Camp Pendleton (End)", lat: 33.2400, lng: -117.4100, mile: 56, time: "2:00 PM", type: "warning" },
            { name: "Oceanside Harbor", lat: 33.2097, lng: -117.3961, mile: 60, time: "2:30 PM", type: "meal", desc: "Afternoon Snack" },
            { name: "Carlsbad Village", lat: 33.1581, lng: -117.3506, mile: 68, time: "3:30 PM", type: "water" },
            { name: "Encinitas / Moonlight Beach", lat: 33.0369, lng: -117.2919, mile: 78, time: "4:30 PM", type: "water" },
            { name: "La Jolla Shores", lat: 32.8567, lng: -117.2571, mile: 90, time: "6:00 PM", type: "meal", desc: "Early Dinner" },
            { name: "Mission Bay / Pacific Beach", lat: 32.7872, lng: -117.2350, mile: 95, time: "7:00 PM", type: "water" },
            { name: "FINISH: 3rd Ave & E St, Chula Vista", lat: 32.6401, lng: -117.0842, mile: 105, time: "8:00 PM", type: "finish" }
        ];

        // Color mapping for marker types
        const colors = {
            start: '#22c55e',
            water: '#0ea5e9',
            meal: '#f59e0b',
            warning: '#ef4444',
            finish: '#8b5cf6'
        };

        // Create custom circle markers
        function createMarker(stop) {
            const color = colors[stop.type];
            const size = (stop.type === 'start' || stop.type === 'finish') ? 14 : 10;

            const marker = L.circleMarker([stop.lat, stop.lng], {
                radius: size,
                fillColor: color,
                color: '#fff',
                weight: 2,
                opacity: 1,
                fillOpacity: 0.9
            });

            // Create popup content
            let popupContent = `<div class="popup-content">
                <h4>${stop.name}</h4>
                <p>${stop.time}${stop.desc ? ' • ' + stop.desc : ''}</p>
                <span class="popup-mile">Mile ${stop.mile}</span>
            </div>`;

            marker.bindPopup(popupContent);
            return marker;
        }

        // Add all markers to map
        stops.forEach(stop => {
            createMarker(stop).addTo(map);
        });

        // Create route line (simplified - connects all points)
        const routeCoords = stops.map(s => [s.lat, s.lng]);

        L.polyline(routeCoords, {
            color: '#0d9488',
            weight: 4,
            opacity: 0.7,
            dashArray: '10, 10'
        }).addTo(map);

        // Add mile markers at real landmark locations
        const mileMarkers = [
            { name: "Aliso Beach", mile: 22, lat: 33.5100, lng: -117.7550 },
            { name: "San Clemente Pier", mile: 38, lat: 33.4178, lng: -117.6219 },
            { name: "Oceanside Pier", mile: 62, lat: 33.1937, lng: -117.3795 },
            { name: "Moonlight Beach", mile: 78, lat: 33.0369, lng: -117.2919 },
            { name: "Mission Beach", mile: 98, lat: 32.7700, lng: -117.2520 }
        ];

        mileMarkers.forEach(m => {
            L.marker([m.lat, m.lng], {
                icon: L.divIcon({
                    className: 'mile-marker',
                    html: `<div style="
                        background: #1e293b;
                        color: white;
                        padding: 4px 8px;
                        border-radius: 12px;
                        font-size: 10px;
                        font-weight: 600;
                        font-family: -apple-system, sans-serif;
                        white-space: nowrap;
                        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                        text-align: center;
                    "><div>${m.name}</div><div style='opacity:0.8;font-size:9px;'>~${m.mile} mi</div></div>`,
                    iconSize: [80, 35],
                    iconAnchor: [40, 17]
                })
            }).addTo(map);
        });

        // Fit map to show all markers
        const bounds = L.latLngBounds(stops.map(s => [s.lat, s.lng]));
        map.fitBounds(bounds, { padding: [30, 30] });
    </script>
</body>
</html>
